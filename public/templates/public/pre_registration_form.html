<div id="pre-register-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Register an item with our services</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" action="" method="post">

        {% csrf_token %}
        <div class="modal-body">

          <div class="form-group">
            <label class="col-md-3 control-label" >Title<span class="mandatory-star">*<span></label>
            <div class="col-md-6">                     
              <input id="titleid" type="textinput" name="title" class="form-control" placeholder="i.e. Iphone 6 black ...">
            </div>
          </div>

          <!-- Select Basic -->
          <div class="form-group">
            <label class="col-md-3 control-label" for="selectbasic">Category<span class="mandatory-star">*<span></label>
            <div class="col-md-6">
              <select id="categoryid" name="category" class="form-control">
                <option value="Accessories">Accessories</option>
                <option value="Animal">Animal</option>
                <option value="Bag">Bag</option>
                <option value="Book">Book</option>
                <option value="Clothes">Clothes</option>
                <option value="Container">Container</option>
                <option value="Electronics">Electronics</option>
                <option value="Id/cards">Id/cards</option>
                <option value="Jewellery">Jewellery</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-3 control-label" for="textinput">Unique identifier</label>  
            <div class="col-md-6">
              <input id="uid" name="textinput" type="text" placeholder="I.e. MEI, Serial Number, Reference Number..." class="form-control input-md">
                
            </div>
          </div>

           <!-- Textarea -->
          <div class="form-group">
            <label class="col-md-3 control-label" for="textarea">Description<span class="mandatory-star">*<span></label>
            <div class="col-md-6">                     
              <textarea class="form-control" id="descriptionid" name="description" placeholder="Give as much details as you can about this item"></textarea>
            </div>
          </div>

          <!-- File Button --> 
          <div class="form-group">
            <label class="col-md-3 control-label" for="fillebutton">Upload phtoto...</label>
            <div class="col-md-6">
              <input id="photos-upload-input" name="filebutton" multiple class="input-file" type="file">
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <input type="button" id="previewButton" name="preview" value="Preview item" class="btn btn-success btn-icon" onClick="previewItem('{{MEDIA_URL}}')"/>
        </div>

      </form>
      </div>
    </div>

  </div>
</div>
<!-- preview modal -->
<div class="modal fade" tabindex="-1" role="dialog" id="preview-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="overflow:hidden">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Preview of your item</h4>
      </div>
      <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">

        <!-- Wrapper for slides -->
        <div id="preview-photos-container" class="carousel-inner">
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
      </div>
      <div class="details">
        <hr class="narrow">
        <div class="row">
           <p class="text-center" style="font-size: 16px; font-weight: bold;" id="preview_title"></p>
        </div>
        <hr class="narrow">
        <div class="row">
          <div class="col-xs-5">
            <p class="hint text-muted text-right">Uid</p>
          </div>
          <div class="col-xs-7">
            <p class="value" id="preview_uid"></p>
          </div>
        </div>
        <hr class="narrow">
        <div class="row">
          <div class="col-xs-5">
            <p class="hint text-muted text-right">Description</p>
          </div>
          <div class="col-xs-7">
            <p class="value" id="preview_desc"></p>
          </div>
        </div>
        <hr class="narrow">
      </div>
      <div class="modal-footer">
        <a class="btn btn-danger btn-icon" onClick="backToEdit()">Edit</a>
        <input type="button" id="preRegisterButton" name="submit" value="Save item" class="btn btn-success btn-icon" onClick="pre_register_item('{{MEDIA_URL}}')"/>
      </div>
    </div>
  </div>
</div>

<script>
  
$("#photos-upload-input").fileinput({
    uploadUrl: '#', // you must set a valid URL here else you will get an error
    allowedFileExtensions : ['jpg', 'png','gif', 'jpeg'],
    overwriteInitial: false,
    maxFileSize: 1000,
    maxFilesNum: 10,
    //allowedFileTypes: ['image', 'video', 'flash'],
    slugCallback: function(filename) {
        return filename.replace('(', '_').replace(']', '_');
    }
});

</script>